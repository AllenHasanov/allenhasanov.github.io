/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings){Drupal.behaviors.generalJS={attach:function(context,settings){const cookiePreferences=document.getElementById("cookie-preferences");const doNotSellLink=document.getElementById("do-not-sell-link");if(cookiePreferences)cookiePreferences.addEventListener("click",function(event){event.preventDefault();if(typeof OneTrust!=="undefined"&&OneTrust.ToggleInfoDisplay)OneTrust.ToggleInfoDisplay();else console.error("OneTrust is not loaded or initialized.");});if(doNotSellLink)doNotSellLink.addEventListener("click",function(event){event.preventDefault();if(typeof OneTrust!=="undefined"&&OneTrust.ToggleInfoDisplay)OneTrust.ToggleInfoDisplay();else console.error("OneTrust is not loaded or initialized.");});const dropdownItems=$('#block-header-navigation .nav-item.dropdown .dropdown-toggler');$(window).on('resize load',function(){if(window.innerWidth>1020){dropdownItems.attr('data-bs-auto-close','outside');$('#block-header-navigation > li').on('mouseover',function(){$(this).find('.dropdown-toggler').first().dropdown('show');}).on('mouseout',function(){$(this).find('.dropdown-toggler').first().dropdown('hide');});$(once('searchToggle','#views-exposed-form-w1d-search-api-w1d-search-page .js-form-item')).on('click',function(e){const parentForm=$(this).closest('#views-exposed-form-w1d-search-api-w1d-search-page');if(!parentForm.hasClass('active')){parentForm.addClass('active');$(document).on('click.searchToggle',function(event){if(!$(event.target).closest('#views-exposed-form-w1d-search-api-w1d-search-page').length){parentForm.removeClass('active');$(document).off('click.searchToggle');}});}});}else{dropdownItems.attr('data-bs-auto-close','false');$('header .navbar-toggler').on('click',function(){let headerEl=$(this).parents('header').first();if($(this).attr('aria-expanded')==='true'){headerEl.addClass('navigation-visible');$('body').addClass('menu-visible');}else{headerEl.removeClass('navigation-visible');headerEl.find('.menu-active').removeClass('menu-active');$(this).parents('header').removeClass('menu-visible');$('body').removeClass('menu-visible');headerEl.find('.dropdown-menu').removeClass('show');headerEl.find('.navbar-visible').removeClass('navbar-visible');headerEl.find('.dropdown-toggler').removeClass('show');headerEl.find('.dropdown-toggler').attr('aria-expanded','false');}});$('#block-header-navigation .dropdown .dropdown-toggler').on('click',function(){if($(this).attr('aria-expanded')==='false'){$(this).parents('ul').first().removeClass('navbar-visible');$(this).parent().removeClass('menu-active');if($(this).parents('ul').first().hasClass('menu-header'))$(this).parents('header').first().removeClass('menu-visible');}else{$(this).dropdown('show');$(this).parent().siblings().removeClass('menu-active');$(this).parent().addClass('menu-active');$(this).parents('header').first().addClass('menu-visible');$(this).parents('ul').first().addClass('navbar-visible');}});}});$('.secondary-menu .navbar-nav .nav-link').each(function(){if($(this).hasClass('active'))$(this).parents('.has-children').first().find('.menu').addClass('show');});$('.secondary-menu .navbar-nav .child-toggler').on('click',function(){if($(this).attr('aria-expanded')==='true')$(this).attr('aria-expanded','false');else $(this).attr('aria-expanded','true');if($(this).siblings('.menu-container').find('.menu').hasClass('show'))$(this).siblings('.menu-container').find('.menu').removeClass('show');else{$(this).parents('.secondary-menu').first().find('.menu').removeClass('show');$(this).siblings('.menu-container').find('.menu').addClass('show');}});const $lazyImages=$('.lazybg');const backgroundOptions={threshold:0,rootMargin:"0px 0px 100px 0px"};const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach((entry)=>{if(entry.isIntersecting){showImageBackground($(entry.target));observer.unobserve(entry.target);}});},backgroundOptions);$lazyImages.each(function(){imageObserver.observe(this);});function showImageBackground($element){$element.removeClass('lazybg');}}};})(jQuery,Drupal,drupalSettings);;
((Drupal)=>{Drupal.behaviors.lazy={attach(context,settings){const utils={extend(obj,src){Object.keys(src).forEach((key)=>{obj[key]=src[key];});return obj;},once(selector){return (context||document).querySelector(selector);},loadScript(url){if(document.querySelectorAll(`script[src="${url}"]`).length===0){const script=document.createElement('script');const scripts=document.getElementsByTagName('script')[0];script.src=url;script.async=true;scripts.parentNode.insertBefore(script,scripts);}}};if(utils.once('body',context)){const lazysizes=settings.lazy.lazysizes||{};if(!settings.lazy.preferNative){window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig=utils.extend(window.lazySizesConfig,lazysizes);if(!Object.entries)Object.entries=(obj)=>{const ownProps=Object.keys(obj);let i=ownProps.length;const resArray=new Array(i);while(i--)resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray;};const min=settings.lazy.minified?'.min':'';Object.entries(lazysizes.plugins).forEach((path)=>{utils.loadScript(`${settings.lazy.libraryPath}/plugins/${path[1]}${min}.js`);});utils.loadScript(`${settings.lazy.libraryPath}/lazysizes${min}.js`);}}}};})(Drupal);;
